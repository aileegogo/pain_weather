<%# 1. 전체 스타일 정의 (모바일 최적화 및 레이아웃 격리) %>
<style>
  .main-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    font-family: 'Pretendard', sans-serif;
    box-sizing: border-box;
  }

  /* 대시보드 박스들 정렬 */
  .dashboard-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 40px;
  }

  /* 개별 카드 스타일 */
  .info-card {
    flex: 1 1 300px;
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    border: 1px solid #eef2ef;
  }

  /* 푸터 강제 하단 정렬 (우측 쏠림 방지 핵심) */
  footer {
    clear: both !important;
    display: block !important;
    width: 100% !important;
    margin-top: 60px !important;
    padding: 40px 0 !important;
    background-color: #fcfdfc !important;
    border-top: 1px solid #eef2ef !important;
    text-align: center !important;
  }

  /* 모달 팝업 스타일 */
  #infoModal {
    display: none;
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.6);
    backdrop-filter: blur(5px);
  }

  .modal-content {
    background-color: #fff;
    margin: 15% auto;
    padding: 30px;
    border-radius: 20px;
    width: 90%;
    max-width: 500px;
    position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  }

  @media (max-width: 600px) {
    .main-container { padding: 15px; }
    .info-card { flex: 1 1 100%; }
    .modal-content { margin: 30% auto; }
  }
</style>

<div class="main-container">
  <%# 2. 메인 타이틀 및 대시보드 영역 %>
  <header style="text-align: center; margin-bottom: 40px;">
    <h1 style="color: #2D5A27; font-size: 28px; font-weight: 700;">oneclipai.info Dashboard</h1>
    <p style="color: #666;">실시간 기상 및 건강 지수 통합 분석</p>
  </header>

  <div class="dashboard-grid">
    <%# 여기에 기존 대시보드 카드 내용들을 넣어주세요 %>
    <div class="info-card">
      <h3 style="color: #4A7C44; margin-top: 0;">현재 기상 상태</h3>
      <p id="weather-info">데이터를 불러오는 중...</p>
    </div>
    <div class="info-card">
      <h3 style="color: #4A7C44; margin-top: 0;">건강 분석 가이드</h3>
      <p id="health-guide">현재 춘천시 기상 정보를 분석 중입니다.</p>
    </div>
  </div>
</div>

<%# 3. 절대 우측으로 붙지 않는 독립형 푸터 %>
<footer id="main-footer">
  <div style="margin-bottom: 15px;">
    <a href="javascript:void(0);" onclick="showModal('service')" style="text-decoration: none; color: #4A7C44; font-size: 14px; margin: 0 10px; font-weight: 500;">서비스 소개</a>
    <span style="color: #ddd;">|</span>
    <a href="javascript:void(0);" onclick="showModal('privacy')" style="text-decoration: none; color: #4A7C44; font-size: 14px; margin: 0 10px; font-weight: 500;">개인정보처리방침</a>
  </div>
  <p style="color: #999; font-size: 12px; margin: 0;">
    © 2026 <strong>oneclipai.info</strong>. All rights reserved.
  </p>
</footer>

<%# 4. 팝업 모달 영역 %>
<div id="infoModal">
  <div class="modal-content">
    <span onclick="closeModal()" style="position: absolute; right: 20px; top: 15px; font-size: 24px; font-weight: bold; cursor: pointer; color: #999;">&times;</span>
    <h2 id="modalTitle" style="color: #2D5A27; margin-top: 0; border-bottom: 2px solid #A8D5BA; padding-bottom: 10px;"></h2>
    <div id="modalContent" style="margin-top: 20px; line-height: 1.7; color: #444; text-align: left; font-size: 14px;"></div>
  </div>
</div>

<%# 5. 제어 스크립트 %>
<script>
  const contentData = {
    service: {
      title: "서비스 소개",
      body: "oneclipai.info는 AI 기반의 실시간 기상 데이터와 건강 지수를 결합하여 사용자에게 최적화된 생활 가이드를 제공하는 혁신적인 대시보드 서비스입니다."
    },
    privacy: {
      title: "개인정보처리방침",
      body: "본 서비스는 사용자의 검색 효율성을 위해 브라우저 쿠키를 활용할 수 있으며, 입력된 도시 정보 외에 어떠한 민감한 개인정보도 수집하거나 저장하지 않음을 약속드립니다."
    }
  };

  function showModal(type) {
    document.getElementById('modalTitle').innerText = contentData[type].title;
    document.getElementById('modalContent').innerText = contentData[type].body;
    document.getElementById('infoModal').style.display = "block";
  }

  function closeModal() {
    document.getElementById('infoModal').style.display = "none";
  }

  window.onclick = function(event) {
    if (event.target == document.getElementById('infoModal')) {
      closeModal();
    }
  }
</script>