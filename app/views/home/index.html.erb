<style>
  /* 1. ì‚¬ìš©ìë‹˜ì´ ì§ì ‘ ì„¤ê³„í•˜ì‹  'ê·¸ë¦¼ ê°™ì€' ì…ì²´ì  ë ˆì´ì•„ì›ƒ */
  body {
    background: radial-gradient(circle at 0% 0%, #f7fcf9 0%, #ffffff 100%);
    font-family: 'Pretendard', sans-serif;
    margin: 0; padding: 0; color: #333;
  }

  .container {
    max-width: 1200px; margin: 0 auto; padding: 50px 20px;
    display: flex; flex-direction: column; min-height: 100vh;
  }

  /* 2. ìƒë‹¨: AI ê¸°ìƒ-ê±´ê°• í†µí•©ë¶„ì„ì‹œìŠ¤í…œ (ì›…ì¥í•œ íƒ€ì´í‹€) */
  header { text-align: center; margin-bottom: 70px; }
  header h1 { font-size: 40px; color: #2D5A27; font-weight: 900; letter-spacing: -2px; }
  .title-line { width: 100px; height: 6px; background: #A8D5BA; margin: 20px auto; border-radius: 10px; }

  /* 3. ì¤‘ê°„: ë°ì´í„° ì‹œê°í™” ì„¹ì…˜ (ê·¸ë¦¼ ê°™ì€ ì˜¤ë¥¸ìª½ ë””ìì¸ì˜ í•µì‹¬) */
  .dashboard-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 30px; margin-bottom: 60px;
  }

  .data-card {
    background: #ffffff; padding: 45px; border-radius: 40px;
    box-shadow: 0 25px 55px rgba(45, 90, 39, 0.08);
    border: 1px solid rgba(168, 213, 186, 0.3);
    text-align: center; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .data-card:hover { transform: translateY(-15px); box-shadow: 0 40px 90px rgba(45, 90, 39, 0.12); }

  .label { font-size: 14px; color: #888; font-weight: 700; text-transform: uppercase; margin-bottom: 15px; }
  .value { font-size: 50px; font-weight: 950; color: #2D5A27; letter-spacing: -2px; }
  .unit { font-size: 20px; color: #A8D5BA; margin-left: 5px; }

  /* 4. í•˜ë‹¨: AI ê±´ê°• ë¶„ì„ ë¦¬í¬íŠ¸ (ì‹¤ì‹œê°„ ë¸”ë¡œê·¸ ê¸°ì‚¬ ì˜ì—­) */
  .article-container {
    background: white; padding: 60px; border-radius: 50px;
    box-shadow: 0 30px 100px rgba(0,0,0,0.04); border: 1px solid #f0f7f2;
  }

  .article-title {
    font-size: 30px; font-weight: 850; color: #2D5A27;
    margin-bottom: 35px; border-left: 10px solid #A8D5BA; padding-left: 30px;
  }

  .article-body { line-height: 2.1; font-size: 18px; color: #4a4a4a; text-align: justify; }

  /* 5. í‘¸í„°: ëª¨ë°”ì¼ ìµœì í™” ë° ìœ„ì¹˜ ê³ ì • (ìš°ì¸¡ ì ë¦¼ ë°©ì§€) */
  footer {
    clear: both !important; display: block !important; width: 100% !important;
    margin-top: auto !important; padding: 60px 0 !important;
    border-top: 1px solid #f0f0f0 !important; text-align: center !important;
  }

  @media (max-width: 800px) {
    .dashboard-grid { grid-template-columns: 1fr; }
    .article-container { padding: 40px 25px; }
  }
</style>

<div class="container">
  <header>
    <h1>AI ê¸°ìƒ-ê±´ê°• í†µí•©ë¶„ì„ì‹œìŠ¤í…œ</h1>
    <div class="title-line"></div>
    <p style="color: #666; font-size: 20px; font-weight: 500;">oneclipai.info | ì‹¤ì‹œê°„ ë§ì¶¤í˜• ê±´ê°• ë¦¬í¬íŠ¸</p>
  </header>

  <%# ì…ì²´ì ì¸ ë°ì´í„° ë¶„ì„ ì¹´ë“œ ì„¹ì…˜ %>
  <div class="dashboard-grid">
    <div class="data-card">
      <div class="label">Real-time Temp</div>
      <div class="value"><%= @current_temp || "--" %><span class="unit">Â°C</span></div>
    </div>
    <div class="data-card">
      <div class="label">Air Pressure</div>
      <div class="value"><%= @current_pressure || "--" %><span class="unit">hPa</span></div>
    </div>
    <div class="data-card">
      <div class="label">Humidity Level</div>
      <div class="value"><%= @current_humidity || "--" %><span class="unit">%</span></div>
    </div>
  </div>

  <%# í•µì‹¬ ê±´ê°• ë¶„ì„ ë¦¬í¬íŠ¸ ì„¹ì…˜ %>
  <div class="article-container">
    <div class="article-title">
      ğŸŒ¿ <%= @city_name || "ì¶˜ì²œ" %> ì§€ì—­ AI ì •ë°€ ê±´ê°• ë¦¬í¬íŠ¸
    </div>
    <div class="article-body">
      <%= raw @health_article || "í˜„ì¬ ê¸°ìƒ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì „ë¬¸ì ì¸ ê±´ê°• ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”." %>
    </div>
  </div>

  <footer>
    <div style="margin-bottom: 30px;">
      <a href="javascript:void(0);" onclick="showModal('service')" style="text-decoration: none; color: #2D5A27; font-size: 15px; margin: 0 20px; font-weight: 600;">ì„œë¹„ìŠ¤ ì†Œê°œ</a>
      <span style="color: #eee;">|</span>
      <a href="javascript:void(0);" onclick="showModal('privacy')" style="text-decoration: none; color: #2D5A27; font-size: 15px; margin: 0 20px; font-weight: 600;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
    </div>
    <p style="color: #bbb; font-size: 12px; letter-spacing: 1px;">Â© 2026 oneclipai.info. All rights reserved.</p>
  </footer>
</div>

<%# íŒì—… ëª¨ë‹¬ ì†ŒìŠ¤ %>
<div id="infoModal" style="display:none; position:fixed; z-index:9999; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.4); backdrop-filter:blur(10px);">
  <div style="background:white; margin:12% auto; padding:45px; border-radius:40px; width:85%; max-width:550px; box-shadow:0 30px 100px rgba(0,0,0,0.3);">
    <span onclick="closeModal()" style="float:right; cursor:pointer; font-size:32px; color:#ccc;">&times;</span>
    <h2 id="modalTitle" style="color:#2D5A27; margin-top:0; font-weight:800; border-bottom:3px solid #A8D5BA; padding-bottom:15px;"></h2>
    <div id="modalContent" style="margin-top:30px; line-height:2.0; color:#444; font-size:16px;"></div>
  </div>
</div>

<script>
  function showModal(t){
    const d={service:{title:"ì„œë¹„ìŠ¤ ì†Œê°œ",body:"AI ê¸°ìƒ ë¶„ì„ì„ í†µí•´ ë§ì¶¤ ê±´ê°• ê°€ì´ë“œë¥¼ ì œê³µí•˜ëŠ” í”„ë¦¬ë¯¸ì—„ ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤."},privacy:{title:"ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨",body:"ë³¸ ì„œë¹„ìŠ¤ëŠ” ê°œì¸ì •ë³´ ë³´í˜¸ë²•ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤."}};
    document.getElementById('modalTitle').innerText=d[t].title;
    document.getElementById('modalContent').innerText=d[t].body;
    document.getElementById('infoModal').style.display="block";
  }
  function closeModal(){document.getElementById('infoModal').style.display="none";}
</script>